
  <h1 style="width: 80%; margin-left: 10%; margin-top: 1%; margin-bottom: 1%; color: #6e6e6e;">MANTENIMIENTO
  </h1>
  <p-iconField iconPosition="left"
    [style]="{'width':'80%','margin-left':'10%','margin-top':'1%', 'margin-bottom':'1%'}">
    <th style="width: 80%; margin-left: 20%; margin-top: 1%; margin-bottom: 1%;">
      <div >
        <button (click)="showDialog()"
          class="btn btn-outline-success">Nuevo mantenimiento</button>

        <!-- Zona de creacion de areas -->
        <p-dialog header="Datos del mantenimiento" [modal]="true" [(visible)]="visible" [style]="{ width: '25rem' }">
          <form [formGroup]="mantenimientoForm" (ngSubmit)="onSubmit()">

            <label>Tipo de dispositivo:</label>
            <select id="device_type" formControlName="device_type">
              <option *ngFor="let tipos of device_type">{{tipos}}</option>
            </select>
            <label>Nombre del dispositivo:</label>
            <select id="device_id" formControlName="device_id">
              <option *ngFor="let device of devices">{{device.name}}</option>
            </select>
            <label>Encargado del mantenimiento:</label>
            <input id="performed_by" formControlName="performed_by" type="text" placeholder="{{performed_by.firstname}} {{performed_by.lastname}}">
            <label>Descripci√≥n</label>
            <textarea id="description" formControlName="description"></textarea>
            <label >Materiales</label>
            <input id="materials_used" formControlName="materials_used" type="text">
            <label>Fecha de mantenimiento</label>
            <input id="maintenance_date" formControlName="maintenance_date" type="date">
          </form>
          <div class="flex justify-content-end gap-2">
            <button style="margin-top:5%;" label="Save" class="btn btn-success">Guardar</button>
          </div>
        </p-dialog>
      </div>
    </th>
  </p-iconField>

  <p-table
      [value]="dispositivos"
      rowGroupMode="rowspan"
      groupRowsBy="deviceType"
      sortField="deviceType"
      sortMode="single"
      [tableStyle]="{'width': '98%', 'margin-top': '2%','margin-left': '1%','border-width': '12%' }">

      <ng-template pTemplate="header">
              <tr style="text-align: center;">
                  <th style="width: 8%;">Tipo</th>
                  <th style="width: 20%;">Nombre</th>
                  <th style="width: 10%;">Encargado</th>
                  <th style="width: 20%;">Descripcion</th>
                  <th style="width: 20%;">Materiales</th>
                  <th style="width: 20%;">Fecha de mantenimiento</th>
                  <th style="width: 2%;">Estado</th>
              </tr>
          </ng-template>
          <ng-template
              pTemplate="body"
              let-equipos
              let-rowIndex="rowIndex"
              let-rowgroup="rowgroup"
              let-rowspan="rowspan">
                  <tr>
                      <td *ngIf="rowgroup" [attr.rowspan]="rowspan">{{equipos.deviceType | camelCaseToTitleCase}}</td>
                      <td >
                          <span class="font-bold ml-2">{{equipos.name}}</span>
                      </td>
                      <td style="text-align: center;">
                          Nombre de quien lo hizo
                      </td>
                      <td>
                          <span class="ml-1 vertical-align-middle">Descripcion</span>
                      </td>
                      <td>
                          Materiales
                      </td>
                      <td style="text-align: center;">
                          Fecha
                      </td>
                      <td>
                          Estado
                      </td>
                  </tr>
          </ng-template>
  </p-table>

